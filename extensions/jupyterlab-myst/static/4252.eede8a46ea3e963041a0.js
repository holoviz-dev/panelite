"use strict";(self.webpackChunkjupyterlab_myst=self.webpackChunkjupyterlab_myst||[]).push([[4252],{84252:(e,t,r)=>{r.r(t),r.d(t,{cardDirective:()=>s,splitParagraphNode:()=>p});const n=/((?<before>[\s\S]*?)\s+){0,1}\^\^\^(\s+(?<after>[\s\S]*)){0,1}/,s={name:"card",alias:["grid-item-card"],arg:{type:"myst"},options:{link:{type:String},header:{type:"myst"},footer:{type:"myst"}},body:{type:"myst",required:!0},run(e){const{link:t,header:r,footer:n}=e.options||{};let s,l,a;if(r||n)s=r?[{type:"paragraph",children:r}]:[],l=e.body,a=n?[{type:"paragraph",children:n}]:[];else{const[t,r]=function(e){const t=[],r=[];let n=!1;return e.forEach((e=>{if(n)r.push(e);else if("paragraph"!==e.type)t.push(e);else{const s=p(e),{before:l,after:a}=s;n=s.post,l&&t.push(l),a&&r.push(a)}})),[t,r]}(e.body);s=r.length?t:[];const n=r.length?r:t;[l,a]=function(e){const t=[],r=[];let n=!1;return e.forEach((e=>{n?r.push(e):"blockBreak"!==e.type?t.push(e):n=!0})),[t,r]}(n)}const o=[];return s.length&&o.push({type:"header",children:s}),e.arg&&o.push({type:"cardTitle",children:e.arg}),o.push(...l),a.length&&o.push({type:"footer",children:a}),[{type:"card",url:t,children:o}]}};function p(e){var t;const r=[],s=[];let p=!1;return null===(t=e.children)||void 0===t||t.forEach((e=>{var t;if(p)return void s.push(e);if("text"!==e.type||!e.value)return void r.push(e);const l=e.value,a=n.exec(l);if(!a)return void r.push(e);p=!0;const{before:o,after:h}=null!==(t=a.groups)&&void 0!==t?t:{};o&&r.push({type:"text",value:o}),h&&s.push({type:"text",value:h})})),{before:r.length?{...e,children:r}:null,after:s.length?{...e,children:s}:null,post:p}}}}]);